{% extends "base.html" %}
{% block title %}Change Password{% endblock %}

{% block content %}
<div class="profile-container">
  <div class="profile-header">
    <h2>Change Password</h2>
    <!-- On passe bien le username à la route "profile" -->
    <a href="{{ url_for('profile') }}" class="btn back-btn">← Back</a>
  </div>

  <form method="POST" class="profile-form">
    <!-- Flash message pour les erreurs ou succès -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <label>Current Password</label>
    <input type="password" name="old_password" required>

    <label>New Password</label>
    <input type="password" name="new_password" required>

    <label>Confirm New Password</label>
    <input type="password" name="confirm_password" required>

    <button type="submit" class="btn-save">Change Password</button>
  </form>
</div>
{% endblock %}
